(this["webpackJsonpmltd-aniv-border-view"]=this["webpackJsonpmltd-aniv-border-view"]||[]).push([[0],{12:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),o=t.n(c),i=(t(12),t(1)),s=t(2),l=t.n(s),u=t(5),d=t.n(u),m=t(6),f=(t(25),["\u5929\u6d77\u6625\u9999","\u5982\u6708\u5343\u65e9","\u661f\u4e95\u7f8e\u5e0c","\u8429\u539f\u96ea\u6b69","\u9ad8\u69fb\u3084\u3088\u3044","\u83ca\u5730\u771f","\u6c34\u702c\u4f0a\u7e54","\u56db\u6761\u8cb4\u97f3","\u79cb\u6708\u5f8b\u5b50","\u4e09\u6d66\u3042\u305a\u3055","\u53cc\u6d77\u4e9c\u7f8e","\u53cc\u6d77\u771f\u7f8e","\u6211\u90a3\u8987\u97ff","\u6625\u65e5\u672a\u6765","\u6700\u4e0a\u9759\u9999","\u4f0a\u5439\u7ffc","\u7530\u4e2d\u7434\u8449","\u5cf6\u539f\u30a8\u30ec\u30ca","\u4f50\u7af9\u7f8e\u5948\u5b50","\u6240\u6075\u7f8e","\u5fb3\u5ddd\u307e\u3064\u308a","\u7bb1\u5d0e\u661f\u68a8\u82b1","\u91ce\u3005\u539f\u831c","\u671b\u6708\u674f\u5948","\u30ed\u30b3","\u4e03\u5c3e\u767e\u5408\u5b50","\u9ad8\u5c71\u7d17\u4ee3\u5b50","\u677e\u7530\u4e9c\u5229\u6c99","\u9ad8\u5742\u6d77\u7f8e","\u4e2d\u8c37\u80b2","\u5929\u7a7a\u6a4b\u670b\u82b1","\u30a8\u30df\u30ea\u30fc","\u5317\u6ca2\u5fd7\u4fdd","\u821e\u6d5c\u6b69","\u6728\u4e0b\u3072\u306a\u305f","\u77e2\u5439\u53ef\u5948","\u6a2a\u5c71\u5948\u7dd2","\u4e8c\u968e\u5802\u5343\u9db4","\u99ac\u5834\u3053\u306e\u307f","\u5927\u795e\u74b0","\u8c4a\u5ddd\u98a8\u82b1","\u5bae\u5c3e\u7f8e\u4e5f","\u798f\u7530\u306e\u308a\u5b50","\u771f\u58c1\u745e\u5e0c","\u7be0\u5bae\u53ef\u6190","\u767e\u702c\u8389\u7dd2","\u6c38\u5409\u6634","\u5317\u4e0a\u9e97\u82b1","\u5468\u9632\u6843\u5b50","\u30b8\u30e5\u30ea\u30a2","\u767d\u77f3\u7d2c","\u685c\u5b88\u6b4c\u7e54"]);function v(e){var a,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(fetch(e));case 2:return a=n.sent,n.next=5,l.a.awrap(a.json());case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}))}var h=function(e,a,t){var n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="".concat("https://api.matsurihi.me/mltd/v1/","events/").concat(e,"/rankings/logs/idolPoint/").concat(a,"/").concat(t.join(",")),c.next=3,l.a.awrap(v(n));case 3:return r=(r=c.sent).map((function(e){return{rank:e.rank,data:e.data.map((function(e){return{score:e.score,summaryTime:(a=new Date(e.summaryTime),t="yyyy/MM/dd HH:mm",t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/g,"".concat(a.getFullYear()))).replace(/MM/g,("0"+(a.getMonth()+1)).slice(-2))).replace(/dd/g,("0"+a.getDate()).slice(-2))).replace(/HH/g,("0"+a.getHours()).slice(-2))).replace(/mm/g,("0"+a.getMinutes()).slice(-2))).replace(/ss/g,("0"+a.getSeconds()).slice(-2))).replace(/SSS/g,("00"+a.getMilliseconds()).slice(-3)))};var a,t}))}})),c.abrupt("return",r);case 6:case"end":return c.stop()}}))},p=function(){var e=r.a.useState([]),a=Object(i.a)(e,2),t=a[0],n=a[1],c=r.a.useState(0),o=Object(i.a)(c,2),s=o[0],l=o[1],u=r.a.useState(0),v=Object(i.a)(u,2),p=v[0],g=v[1],w=r.a.useState([]),b=Object(i.a)(w,2),y=b[0],N=b[1],k=r.a.useState(""),E=Object(i.a)(k,2),S=E[0],j=E[1],T=r.a.useState([]),D=Object(i.a)(T,2),x=D[0],O=D[1];return r.a.useEffect((function(){var e=35,a=142,t=[1,10,50,80,100],r=[1,6,24];if(window.location.search){var c=d.a.parse(window.location.search);c.idol&&c.idol.match(/^\d+$/)&&(e=Number(c.idol)),c.event&&c.event.match(/^\d+$/)&&(a=Number(c.event)),c.rank&&c.rank.match(/^[\d|,]+$/)&&(t=c.rank.split(",").map((function(e){return Number(e)}))),c.diff&&c.diff.match(/^[\d|,]+$/)&&(r=c.diff.split(",").map((function(e){return Number(e)})))}l(e),g(a),N(t),O(r),h(a,e,t).then((function(e){if(e.length>0){n(e);var a=e[e.length-1].data[e[e.length-1].data.length-1].summaryTime;j(a)}}))}),[]),Object(m.a)((function(){console.log(new Date),h(p,s,y).then((function(e){n(e);var a=e[e.length-1].data[e[e.length-1].data.length-1].summaryTime;j(a)}))}),6e5),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"idolName"},f[s-1]),r.a.createElement("div",{className:"updateTime"},"update: ",S)),r.a.createElement("div",{className:"rank"},r.a.createElement("div",{className:"rankValue"}),r.a.createElement("div",{className:"borderValue"}),r.a.createElement("div",{className:"borderDiff"},x.map((function(e){return r.a.createElement("div",{className:"borderDiffValue"},e,"h")})))),t.map((function(e){var a=e.data[e.data.length-1].score,t=new Date(e.data[e.data.length-1].summaryTime).getTime(),n=x,c=[],o=!0,i=!1,s=void 0;try{for(var l,u=function(){var n=l.value,r=t-36e5*n,o=e.data.filter((function(e){return new Date(e.summaryTime).getTime()===r})),i=o?a-o[0].score:NaN;Number.isNaN(i)||c.push(i)},d=n[Symbol.iterator]();!(o=(l=d.next()).done);o=!0)u()}catch(m){i=!0,s=m}finally{try{o||null==d.return||d.return()}finally{if(i)throw s}}return r.a.createElement("div",{className:"rank"},r.a.createElement("div",{className:"rankValue"},e.rank," \u4f4d"),r.a.createElement("div",{className:"borderValue"},a," pts"),r.a.createElement("div",{className:"borderDiff"},c.map((function(e){return r.a.createElement("div",{className:"borderDiffValue"},"+".concat(e," pts"))}))))})))},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(p,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat(".","/service-worker.js");g?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):w(a,e)}))}}()},7:function(e,a,t){e.exports=t(26)}},[[7,1,2]]]);
//# sourceMappingURL=main.7afc92dc.chunk.js.map